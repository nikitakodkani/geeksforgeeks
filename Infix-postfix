#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <ctype.h>

typedef struct STACK {
    char data;
    struct STACK *next;
} STACK;

STACK* push(STACK* head,char data)
{
    STACK* tmp = (STACK*)malloc(sizeof(STACK));
    tmp->data = data;
    if(head == NULL)
        tmp->next = NULL;
    else
        tmp->next = head;
    head = tmp;
   
    return head;
}
STACK* pop(STACK *head)
{
   if(head == NULL)
      return NULL;
    else{
      STACK* tmp = head;
      head = tmp->next;
      free(tmp);
   }
    
    return head;
}

void infix_postfix(STACK *head, char *str) {
    int i=0, oc=0;
    char output[30];
    int prec = 0;
    
    for (i=0; str[i] != '\0' ; i++) {
        
                switch(str[i]) {
                case '(': 
                    head = push(head, str[i]);
                    break;
                case ')':
                        while (head->data != '(') {
                            output[oc++] = head->data;
                            head = pop(head);
                            
                        }
                    
                    head = pop(head);
                    break;
                case '+':
                case '-':
                    if (head != NULL) {
                        if (head->data == '*' || head->data == '/') {
                            while (head != NULL) {
                                output[oc++] = head->data;
                                head = pop(head);
                            }
                        } else if(head->data == '+' || head->data == '-') {
                            output[oc++] = head->data;
                            head = pop(head);
                        } else { 
                            head = push(head, str[i]);
                        }
                    } else {
                        head = push(head, str[i]);
                    }
                    break;
                case '*':
                case '/':
                if (head != NULL) {
                    if (head->data == '*' || head->data == '/') {
                        output[oc++] = head->data;
                        head = pop(head);
                    }
                }
                    head = push(head, str[i]);
                    //printf("%c",head->data);
                    break;
                default:
                    output[oc++] = str[i];
            }
    }
    while (head != NULL) {
        output[oc++] = head->data;
        head = pop(head);
    }
    output[oc]='\0';    
    printf("%s\n", output);
    
}

int main() {
    STACK *head = NULL;
    int i, num;
    char *str;
    
    scanf("%d", &num);
    for(i=0; i<num; i++) {
        str = malloc(sizeof(char) * (30));
        scanf("%s", str);
        infix_postfix(head, str);
        free(str);
        str = NULL;
    }
    
    return 0;
}
